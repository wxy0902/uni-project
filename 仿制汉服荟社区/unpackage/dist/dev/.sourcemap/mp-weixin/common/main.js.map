{"version":3,"sources":["uni-app:///main.js","webpack:////Users/wangxinyao/Documents/HBuilderProjects/project/仿制汉服荟社区/App.vue?7f02","uni-app:///App.vue","webpack:////Users/wangxinyao/Documents/HBuilderProjects/project/仿制汉服荟社区/App.vue?1c82","webpack:////Users/wangxinyao/Documents/HBuilderProjects/project/仿制汉服荟社区/App.vue?0f2d","webpack:////Users/wangxinyao/Documents/HBuilderProjects/project/仿制汉服荟社区/App.vue?f9b9"],"names":["Vue","prototype","$store","store","component","IIcon","UserAvatar","MescrollUni","config","productionTip","App","mpType","app","$mount"],"mappings":";;;;;;;;;;iDAAA,wCAAmB,iDAA4B;AAC/C;;;AAGA,4E;AACAA,aAAIC,SAAJ,CAAcC,MAAd,GAAuBC,cAAvB;;AAEA;;AAEAH,aAAII,SAAJ,CAAc,QAAd,EAAwBC,KAAxB;AACA;;AAEAL,aAAII,SAAJ,CAAc,aAAd,EAA6BE,UAA7B;AACA;;AAEAN,aAAII,SAAJ,CAAc,cAAd,EAA8BG,WAA9B;;AAEAP,aAAIQ,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;;AAEAC,aAAIC,MAAJ,GAAa,KAAb;;AAEA,IAAMC,GAAG,GAAG,IAAIZ,YAAJ;AACVG,OAAK,EAALA,cADU;AAEPO,YAFO,EAAZ;;AAIA,UAAAE,GAAG,EAACC,MAAJ,G;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAkzB,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;;ACCt0B;;;;AAIA;;;;AAIA;;;AAGA,2E;;;;AAIA;AACA,UADA,sBACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,EAKA,IALA,CAKA;AACA;AACA;AACA,OARA,EAQA,IARA,CAQA;;;AAGA;AACA;AACA,mBADA;;AAGA;AACA;AACA,+BADA;AAEA,oCAFA;;;;AAMA;AACA;AACA;AACA;AACA;AACA,OA3BA,EA2BA,IA3BA,CA2BA;AACA;AACA;AACA;AACA;AACA,OAhCA,EAgCA,IAhCA,CAgCA;AACA;AACA;AACA;AACA;AACA,OArCA,EAqCA,IArCA,CAqCA;AACA;AACA;AACA;AACA,OAzCA,EAyCA,IAzCA,CAyCA;AACA;;;AAGA;AACA;AACA,qBADA;;AAGA;AACA;AACA,+BADA;AAEA,oCAFA;AAGA;AACA,0BADA;AAEA,gCAFA,EAHA;;;;;AAUA,OA5DA,EA4DA,KA5DA,CA4DA;AACA;AACA;AACA;AACA;AACA,qCADA;;AAGA;AACA,OApEA;AAqEA;AACA,GApFA;AAqFA,QArFA,oBAqFA;AACA;AACA,GAvFA;AAwFA,QAxFA,oBAwFA;AACA;AACA,GA1FA,E;;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAypC,CAAgB,8lCAAG,EAAC,C;;;;;;;;;;;ACA7qC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACa;;;AAG/D;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF","file":"common/main.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';import Vue from 'vue'\nimport App from './App'\n\n// 挂载全局状态管理\nimport store from './store'\nVue.prototype.$store = store\n\n// iconfont 官方自定义收藏图标库组件\nimport IIcon from '@/components/i-icon/i-icon'\nVue.component('i-icon', IIcon)\n// 用户头像组件\nimport UserAvatar from '@/components/user-avatar/user-avatar'\nVue.component('user-avatar', UserAvatar)\n// 下拉刷新组件\nimport MescrollUni from \"@/components/mescroll-uni/mescroll-uni.vue\";\nVue.component('mescroll-uni', MescrollUni)\n\nVue.config.productionTip = false\n\nApp.mpType = 'app'\n\nconst app = new Vue({\n  store,\n  ...App\n})\napp.$mount()","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n  import {\r\n    getRsaText,\r\n    getStarCover\r\n  } from \"@/api/CommonServer.js\"\r\n  import {\r\n    refreshUserToken,\r\n    getUserInfo,\r\n  } from \"@/api/UserServer.js\"\r\n  import {\r\n    getSigninInfo,\r\n  } from \"@/api/HanbiServer.js\"\r\n  import {\r\n    getMessageNoReadCount,\r\n  } from \"@/api/MessageServer.js\"\r\n\r\n  export default {\r\n    onLaunch() {\r\n      console.log('App Launch')\r\n      // 检查token\r\n      let token = uni.getStorageSync('TOKEN');\r\n      if (!!token) {\r\n        // #ifdef H5\r\n        if (location.pathname != '/' || location.hash != '#/') {\r\n          uni.redirectTo({\r\n            url: '/pages/index/index'\r\n          })\r\n        }\r\n        // #endif\r\n        // 启动封面\r\n        getStarCover().then(coverRes => {\r\n          // 保存启动封面\r\n          this.$store.commit('common/setStarCoverData', coverRes.data.Data)\r\n          // 取得rsa加密文本\r\n          return getRsaText(`${token},${Math.floor(new Date().getTime() / 1000)}`)\r\n        }).then(rsaRes => {\r\n          // 刷新token值 \r\n          return refreshUserToken(rsaRes.data)\r\n        }).then(accountRes => {\r\n\r\n          // #ifndef APP-PLUS\r\n          // 置空导航标题\r\n          uni.setNavigationBarTitle({\r\n            title: ''\r\n          });\r\n          // 充白导航背景色\r\n          uni.setNavigationBarColor({\r\n            frontColor: '#ffffff',\r\n            backgroundColor: '#ffffff'\r\n          });\r\n          // #endif\r\n\r\n          // 保存账户信息和新token值\r\n          this.$store.commit('user/setAccountInfoData', accountRes.data.Data);\r\n          uni.setStorageSync('TOKEN', accountRes.data.Data.AccessToken);\r\n          // 获得登录用户信息\r\n          return getUserInfo(accountRes.data.Data.UserID);\r\n        }).then(userinfoRes => {\r\n          // 保存登录用户信息\r\n          this.$store.commit('user/setUserInfoData', userinfoRes.data.Data);\r\n          // 获取未读消息数\r\n          return getMessageNoReadCount()\r\n        }).then(mesRes => {\r\n          // 保存未读消息数\r\n          this.$store.commit('setNewsCountData', mesRes.data.Data)\r\n          // 获取签到信息\r\n          return getSigninInfo()\r\n        }).then(signinRes => {\r\n          // 保存签到信息\r\n          this.$store.commit('setSigninInfoData', signinRes.data.Data)\r\n          return true\r\n        }).then(res => {\r\n          console.log('app.vue', res);\r\n\r\n          // #ifndef APP-PLUS \r\n          // 导航标题\r\n          uni.setNavigationBarTitle({\r\n            title: '主页'\r\n          });\r\n          // 导航背景色\r\n          uni.setNavigationBarColor({\r\n            frontColor: '#ffffff',\r\n            backgroundColor: '#ff6699',\r\n            animation: {\r\n              duration: 4000,\r\n              timingFunc: 'linear'\r\n            }\r\n          })\r\n          // #endif\r\n\r\n        }).catch(err => {\r\n          console.log(err, false);\r\n          // 登录问题\r\n          if (err.data !== 401) {\r\n            uni.redirectTo({\r\n              url: '/pages/login/login'\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    onShow() {\r\n      console.log('App Show')\r\n    },\r\n    onHide() {\r\n      console.log('App Hide')\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  /* 每个页面公共css */\r\n  @import \"/style/common.css\";\r\n  @import \"/style/relation.css\";\r\n  /* HTML富文本解析器样式 */\r\n  @import \"/components/gaoyia-parse/parse.css\";\r\n\r\n  /* 页面底色 */\r\n  page {\r\n    background: #F8F8F8;\r\n  }\r\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610611910506\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports"],"sourceRoot":""}